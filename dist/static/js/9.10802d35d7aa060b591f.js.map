{"version":3,"sources":["webpack:///src/components/pages/claimApply/components/Jssdk.vue","webpack:///./src/components/pages/claimApply/components/Jssdk.vue?f0c4","webpack:///./src/components/pages/claimApply/components/Jssdk.vue"],"names":["wx","__webpack_require__","Jssdk","name","data","res","error","images","created","_this2","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","tUrl","wrap","_context","prev","next","encodeURIComponent","window","location","href","split","Object","api","url","sent","_axios_0_19_0_axios_default","get","console","log","config","debug","appId","timestamp","nonceStr","signature","jsApiList","stop","methods","chooseImage","_this","sizeType","sourceType","count","success","localId","localIds","err","mounted","components_Jssdk","render","_vm","_h","$createElement","_c","_self","on","click","_v","_s","_l","item","attrs","src","staticRenderFns","Component","normalizeComponent","__webpack_exports__"],"mappings":"oLAgBAA,EAAAC,EAAA,QACAC,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,IAAA,GACAC,MAAA,GACAC,YAGAC,QATA,WASA,IAAAC,EAAAC,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAZ,EAAA,OAAAQ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAJ,EAAAK,mBAAAC,OAAAC,SAAAC,KAAAC,MAAA,SADAP,EAAAE,KAAA,EAEAM,OAAAC,EAAA,EAAAD,EAAAE,IAAAZ,IAFA,cAAAE,EAAAW,KAAAX,EAAAE,KAAA,EAGAU,EAAAjB,EAAAkB,IAAA,wEAAAf,GAHA,OAKAZ,GAFAA,EAHAc,EAAAW,MAKAzB,KACA4B,QAAAC,IAAA7B,GACAJ,EAAAkC,QACAC,OAAA,EACAC,MAAAhC,EAAAgC,MACAC,UAAAjC,EAAAiC,UACAC,SAAAlC,EAAAkC,SACAC,UAAAnC,EAAAmC,UACAC,WAAA,mCAEAxC,EAAAM,MAAA,SAAAD,GACA2B,QAAAC,IAAA5B,KAhBA,yBAAAa,EAAAuB,SAAA1B,EAAAN,KAAAE,IAqBA+B,SAIAC,YAJA,WAKA,IAAAC,EAAAlC,KACAsB,QAAAC,IAAAjC,GACAA,EAAA2C,aACAE,UAAA,yBACAC,YAAA,kBACAC,MAAA,EACAC,QAAA,SAAA3C,GAcAuC,EAAArC,OAAA0C,QAAA5C,EAAA6C,UAGA5C,MArBA,SAqBA6C,GACAnB,QAAAC,IAAAkB,QAKAC,QAhEA,cCdeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,KAAyBE,IAAIC,MAAAN,EAAAZ,eAAyBY,EAAAO,GAAA,iBAAAP,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAO,GAAA,OAAAP,EAAAQ,GAAAR,EAAAlD,QAAAkD,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAO,GAAA,SAAAP,EAAAQ,GAAAR,EAAAjD,UAAAiD,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAhD,WAAAgD,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAS,GAAAT,EAAAhD,OAAA,iBAAA0D,GAAwP,OAAAP,EAAA,MAAAA,EAAA,OAA0BQ,OAAOC,IAAAF,KAAYV,EAAAO,GAAAP,EAAAQ,GAAAE,GAAA,qBAAyC,MAE5cG,oBCYjBC,EAdyBpE,EAAQ,OAcjCqE,CACEpE,EACAmD,GATF,EAEA,KAEA,KAEA,MAUekB,EAAA,QAAAF,EAAiB","file":"static/js/9.10802d35d7aa060b591f.js","sourcesContent":["<template>\r\n\t<div>\r\n\t   <p @click=\"chooseImage\">chooseImage</p>\r\n       <p>res:{{res}}</p>\r\n       <p>error:{{error}}</p>\r\n       <p>{{images}}</p>\r\n       <ul>\r\n           <li v-for=\"item in images.localId\">\r\n               <img :src=\"item\">{{item}}\r\n           </li>\r\n       </ul>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport axios from 'axios';\r\nimport {JSSDKURL} from \"@/api\";\r\nvar wx = require('weixin-js-sdk');\r\nexport default{\r\n\tname:\"JSSDK\",\r\n\tdata(){\r\n\t\treturn {\r\n            res:\"\",\r\n            error:\"\",\r\n            images:{}\r\n\t\t}\r\n\t},\r\n\tasync created(){\r\n        let tUrl = encodeURIComponent(window.location.href.split('#')[0]); //需要跳转到哪个页面就写哪个页面的链接\r\n        let datas=await JSSDKURL({\"url\":tUrl});\r\n        let data=await axios.get(\"https://api-uat.tianan-life.com/wx-claim-apply/api/callBack/Test?url=\"+tUrl)\r\n        //let data=JSON.parse(datas.data.replace(/\\'/g,\"\\\"\"));\r\n        data=data.data;\r\n        console.log(data)\r\n        wx.config({\r\n            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n            appId: data.appId, // 必填，公众号的唯一标识\r\n            timestamp: data.timestamp, // 必填，生成签名的时间戳\r\n            nonceStr: data.nonceStr, // 必填，生成签名的随机串\r\n            signature: data.signature,// 必填，签名\r\n            jsApiList: ['getLocalImgData','chooseImage'] // 必填，需要使用的JS接口列表\r\n        });\r\n        wx.error(res=>{\r\n            console.log(res)\r\n        })\r\n        \r\n        \r\n\t},\r\n\tmethods:{\r\n\t\t/**\r\n         * 选择图片\r\n         */\r\n        chooseImage() {\r\n            let _this = this;\r\n            console.log(wx)\r\n            wx.chooseImage({\r\n                \"sizeType\": ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n                \"sourceType\": ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n                \"count\": 9, // 默认9\r\n                success: function (res) {\r\n                    /*for (var i = 0; i < res.localIds.length; i++){\r\n                        console.log(res.localIds[i])\r\n                        wx.getLocalImgData({\r\n                            localId: res.localIds[i], // 图片的localID\r\n                            success: function (res) {\r\n                                JSON.stringify(res)\r\n                            },\r\n                            error(err){\r\n                                alert(JSON.stringify(err))\r\n                            }\r\n                        });\r\n                    }*/\r\n                    //res.localIds 是一个数组　保存了用户一次性选择的所有图片的信息　\r\n                    _this.images.localId = res.localIds;//把图片的路径保存在images[localId]中--图片本地的id信息，用于上传图片到微信浏览器时使用\r\n                    //alert('已选择 ' + res.localIds.length + '张图片 ');\r\n                },\r\n                error(err){\r\n                \tconsole.log(err)\r\n                }\r\n            });\r\n        }\r\n\t},\r\n\tmounted(){\r\n\t\t\r\n\t}\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/pages/claimApply/components/Jssdk.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{on:{\"click\":_vm.chooseImage}},[_vm._v(\"chooseImage\")]),_vm._v(\" \"),_c('p',[_vm._v(\"res:\"+_vm._s(_vm.res))]),_vm._v(\" \"),_c('p',[_vm._v(\"error:\"+_vm._s(_vm.error))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.images))]),_vm._v(\" \"),_c('ul',_vm._l((_vm.images.localId),function(item){return _c('li',[_c('img',{attrs:{\"src\":item}}),_vm._v(_vm._s(item)+\"\\n           \")])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-494d6c83\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/claimApply/components/Jssdk.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Jssdk.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Jssdk.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-494d6c83\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Jssdk.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/claimApply/components/Jssdk.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}